<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carta de Amor ‚ú®</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#fff0f6;
      --bg2:#ffd6e8;
      --bg3:#ffb6c1;
      --accent:#e11d48;
      --accent-dark:#b11336;
      --paper:#ffe4ec;
      --ink:#2b2b2b;
      --shadow: 0 20px 50px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 20% -10%, rgba(255,192,203,.3), transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2) 45%, var(--bg3));
      color:#f8fafc;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden;
    }

    .wrap{
      position:relative;
      height:100%;
      width:100%;
      display:grid;
      place-items:center;
      padding:24px;
    }

    .hearts-layer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:5;
    }

    .scene{
      position:relative;
      width:min(92vw, 760px);
      height:min(70vh, 520px);
      display:grid;
      place-items:center;
      perspective:1200px;
    }

    .box{
      position:relative;
      width:min(92vw, 720px);
      height:min(64vh, 460px);
      border-radius:28px;
      background: linear-gradient(180deg, rgba(255,255,255,.1), rgba(255,255,255,.05));
      box-shadow: var(--shadow);
      border:1px solid rgba(255,255,255,.12);
      display:grid;
      place-items:center;
      overflow:hidden;
      padding:24px;
      backdrop-filter: blur(4px) saturate(120%);
    }

    .ribbonBtn{
      -webkit-tap-highlight-color: transparent;
      cursor:pointer;
      border:none;
      background:transparent;
      padding:0;
      transform: translateZ(0);
      transition: transform .25s ease;
      filter: drop-shadow(0 8px 20px rgba(225,29,72,.35));
    }
    .ribbonBtn:hover{ transform: translateY(-2px) scale(1.02); }

    .bow{
      width: 260px;
      height: auto;
      display:block;
    }

    .box.opened .ribbonBtn{ pointer-events:none; }
    .box.opened .knot{ transform: scale(0); opacity:0; }
    .box.opened .left-loop{ transform: translateX(-260px) rotate(-25deg); opacity:0; }
    .box.opened .right-loop{ transform: translateX(260px) rotate(25deg); opacity:0; }
    .box.opened .tails{ transform: translateY(120px); opacity:0; }

    .knot, .left-loop, .right-loop, .tails{ transition: transform .9s cubic-bezier(.2,.8,.2,1), opacity .9s ease; transform-origin: center; }

    .letter{
      position:absolute;
      width:min(86%, 620px);
      height:min(80%, 400px);
      border-radius:18px;
      background:
        radial-gradient(1600px 600px at -10% -20%, rgba(255,192,203,.3), transparent 60%),
        radial-gradient(1400px 500px at 120% 0%, rgba(255,182,193,.25), transparent 55%),
        repeating-linear-gradient(115deg, rgba(255,105,180,.06) 0 2px, transparent 2px 6px),
        linear-gradient(0deg, #ffeaf1, var(--paper));
      box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(0,0,0,.08);
      transform-origin: top;
      transform: rotateX(86deg) translateY(-12px) scale(.98);
      opacity:0;
      transition: transform 1.1s cubic-bezier(.15,.85,.15,1), opacity .8s ease .2s;
      z-index:9;
      overflow-y:auto;
      padding:20px;
    }
    .box.opened .letter{
      transform: rotateX(0deg) translateY(0) scale(1);
      opacity:1;
    }

    .letter::before{
      content:"";
      position:absolute; inset:0;
      border-radius:18px;
      border: 2px solid rgba(255,105,180,.3);
      box-shadow: inset 0 3px 12px rgba(255,182,193,.35);
      pointer-events:none;
    }
    .letter::after{
      content:""; position:absolute; left:0; right:0; top:0;
      height:14px; border-radius:18px 18px 0 0;
      background: linear-gradient(180deg, rgba(255,105,180,.4), rgba(255,255,255,0));
      opacity:.3; pointer-events:none;
    }

    .letter-content{
      position:relative;
      display:block;
      text-align:left;
      color:#6b2139;
      font-size:clamp(14px, 2.3vw, 18px);
      white-space:pre-line;
    }

    h1{
      font-family: 'Great Vibes', 'Brush Script MT', cursive;
      font-weight:400; font-size: clamp(36px, 6vw, 72px);
      color: var(--ink);
      margin:0 0 12px;
      letter-spacing:.5px;
      text-align:center;
      text-shadow: 0 1px 0 rgba(255,255,255,.6);
    }

    .heart{
      position:absolute;
      top:-60px;
      width:28px; height:28px;
      animation: fall linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
      opacity:.95;
      z-index:4;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); opacity: .98; }
    }

    .hint{
      position:absolute; bottom:18px; left:50%; transform:translateX(-50%);
      font-size:14px; color:#6b2139; opacity:.8;
    }

  </style>
</head>
<body>
  <div class="wrap">
    <div class="scene">
      <div class="box" id="box">
        <button id="ribbonBtn" class="ribbonBtn" aria-label="Desatar lazo y abrir carta">
          <svg class="bow" viewBox="0 0 600 320" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="var(--accent)"/>
                <stop offset="1" stop-color="var(--accent-dark)"/>
              </linearGradient>
            </defs>
            <path class="left-loop" d="M280 160 C 140 40, 60 36, 40 100 C 20 164, 86 204, 200 210 C 240 212, 264 196, 280 160 Z" fill="url(#g)"/>
            <path class="right-loop" d="M320 160 C 460 40, 540 36, 560 100 C 580 164, 514 204, 400 210 C 360 212, 336 196, 320 160 Z" fill="url(#g)"/>
            <ellipse class="knot" cx="300" cy="170" rx="42" ry="48" fill="url(#g)"/>
            <path class="tails" d="M260 200 L260 300 C 280 308, 300 312, 300 312 C 300 312, 320 308, 340 300 L340 200 Z" fill="url(#g)"/>
          </svg>
        </button>

        <div class="letter" id="letter" aria-hidden="true">
          <div class="letter-content">
            <h1>Mi princesa Nicole üåπ</h1>
            <p>
Hay algo que quiero que grabes muy dentro de ti: t√∫ eres mi sue√±o hecho realidad üíñ. Muchas veces pienso c√≥mo es posible que exista alguien como t√∫ y, m√°s a√∫n, c√≥mo es posible que est√©s en mi vida. Eres mi chica ideal, esa que no solo me roba sonrisas con un mensajito, sino que me alegra los d√≠as m√°s grises con tan solo aparecer üíï.

S√© que a veces te cuesta expresar lo que sientes y por eso mandas mensajitos cortitos o tiktoks hermosos y graciosos, pero‚Ä¶ ¬øsabes algo? Para m√≠ esos peque√±os detalles son tesoros üåπ. Porque aunque sean cortitos, en cada uno de ellos siento tu cari√±o, tu forma de decirme ‚Äúaqu√≠ estoy‚Äù, y eso basta para hacerme feliz. No necesito mil palabras, me basta contigo y con tu manera de querer üíñ.

Amo compartir contigo cosas sencillas: jugar Free Fire, a veces Robloxito üéÆ, escucharte hablar de lo mucho que te gusta la F√≥rmula 1 y a tu conductor favorito, Max Verstappen üèéÔ∏è. En todo eso est√° tu esencia, esa persona incre√≠ble que eres: la chica que admiro, la que me inspira y me hace querer ser mejor üåπ.

Niii üíï, eres una hija maravillosa, una hermana ejemplar, una persona con un coraz√≥n tan grande que no me alcanza la vida para agradecer que lo compartas conmigo üíñ. Aunque a veces no hablemos tanto, quiero que sepas que nunca me pesa, porque no se trata de cantidad, sino de lo que siento contigo. Y lo que siento es amor verdadero y profundo üåπ.

Te miro y pienso: ella es mi suerte, mi milagro, mi destino üíñ. Y es que no necesito nada m√°s, porque tenerte a ti ya lo es todo. Gracias por existir, gracias por ser t√∫, gracias por dejarme amarte. Jam√°s te voy a dejar, niii, jam√°s‚Ä¶ üåπüíñ

Te amo,
Aricito
            </p>
          </div>
        </div>

        <div class="hint" id="hint">Toca el lazo para abrir tu carta</div>
      </div>
    </div>
    <div class="hearts-layer" id="hearts"></div>
  </div>

  <audio controls autoplay loop>
    <source src="https://www.dropbox.com/s/1gdmdqmtiq4uqt2/12.mp3?dl=1" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
  </audio>

  <script>
    const box = document.getElementById('box');
    const btn = document.getElementById('ribbonBtn');
    const hint = document.getElementById('hint');
    const heartsLayer = document.getElementById('hearts');
    const letter = document.getElementById('letter');

    let raining = false;
    let heartTimer;

    btn.addEventListener('click', () => {
      if(box.classList.contains('opened')) return;
      box.classList.add('opened');
      hint.style.display = 'none';
      startHearts();
    }, { once: true });

    function startHearts(){
      if(raining) return; raining = true;
      for(let i=0;i<20;i++) createHeart();
      heartTimer = setInterval(()=>{
        for(let i=0;i<4;i++) createHeart();
      }, 450);
    }

    function createHeart(){
      const heart = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      heart.setAttribute('viewBox','0 0 24 24');
      heart.classList.add('heart');
      const hue = 340 + Math.random()*40;
      const sat = 70 + Math.random()*20;
      const light = 50 + Math.random()*12;
      const fill = `hsl(${hue%360} ${sat}% ${light}%)`;

      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      path.setAttribute('d','M12 21s-6.7-4.27-9.33-7.12C.58 11.58 1.1 7.7 4.06 6.2 6.2 5.1 8.6 5.86 10 7.46 11.4 5.86 13.8 5.1 15.94 6.2c2.96 1.5 3.48 5.38 1.39 7.68C18.7 16.73 12 21 12 21z');
      path.setAttribute('fill', fill);
      heart.appendChild(path);

      const scale = 0.8 + Math.random()*0.9;
      heart.style.width = 22*scale + 'px';
      heart.style.height = 22*scale + 'px';
      const duration = 5 + Math.random()*6;
      heart.style.animationDuration = duration + 's';

      const rect = letter.getBoundingClientRect();
      const margin = 20;
      const vw = window.innerWidth;
      let x;
      let attempts = 0;
      do{
        x = Math.random()*vw;
        attempts++;
        if(attempts>20) break;
      } while (x > rect.left - margin && x < rect.right + margin);

      heart.style.left = x + 'px';
      const drift = (Math.random() * 40 - 20);
      heart.style.transform = `translateY(0) translateX(${drift}px)`;

      heart.addEventListener('animationend', ()=> heart.remove());

      heartsLayer.appendChild(heart);
    }

    window.addEventListener('resize', () => {
    });
  </script>
</body>
</html>